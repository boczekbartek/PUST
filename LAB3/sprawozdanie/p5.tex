%LAB3
\chapter{Punkt 5}



Do wyznaczania nastaw regulatora PID wykorzystaliœmy model obiektu. Model ten stworzyliœmy wykorzystuj¹c wyliczone w punkcie 3
aproksymacje odpowiedzi skokowych cz³onami inercyjnymi drugiego rzêdu z opóŸnieniem.
Model ten zosta³ wyznaczony na podstawie wzoru:\\
\begin{equation}
\begin{aligned}
y_1(k) = &a_1^1y_1(k-1) + a_1^2y_1(k-2) + \\       
+ &b_1^{1,1}u_1(k-T^{\mathrm{D}1}_1-1) + b_1^{1,2}u_1(k-T^{\mathrm{D}1}_1-2) + \\
+ &b_1^{2,1}u_2(k-T^{\mathrm{D}2}_1-1) + b_1^{2,2}u_2(k-T^{\mathrm{D}2}_1-2) \\
y_2(k) = &a_2^1y_1(k-1) + a_2^2y_1(k-2) + \\       
+ &b_2^{1,1}u_1(k-T^{\mathrm{D}1}_2-1) + b_2^{1,2}u_1(k-T^{\mathrm{D}1}_2-2) + \\
+ &b_2^{2,1}u_2(k-T^{\mathrm{D}2}_2-1) + b_2^{2,2}u_2(k-T^{\mathrm{D}2}_2-2) \\
\end{aligned}
\label{eq:mod}
\end{equation}

Nastêpnie za pomoc¹ optymalizatora \verb|ga|, dla kilku skoków wartoœci zadanej, zosta³y wyznaczone nastawy regulatora PID dla modelu.\\
Uzyskane nastawy to:\\
$K1=\num{98,507776}; T_i1=\num{49,555644}; T_d1=\num{2,916919}; T_s=\num{0,5}$\\
$K2=\num{23,557519}; T_i2=\num{65,026976}; T_d2=\num{8,987056}; T_s=\num{0,5}$\\\\

Poni¿ej zosta³y przedstawione przebiegi uzyskane podczas symulacji:


\begin{figure}[h!]
	\centering
	
	\begin{tikzpicture}
	\begin{axis}[
	width=4.667in,
	height=1.8in,
	xmin=0,xmax=385,ymin=30,ymax=55,
	xlabel={$k$},
	ylabel={$Y$},
	legend pos=north east,
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[const plot,blue] file {wykresy/zadanie5/dmc_y1_40.txt};
	\addplot[const plot,green] file {wykresy/zadanie5/dmc_y1_45.txt};
	\addplot[const plot,red] file {wykresy/zadanie5/dmc_y1_50.txt};
	\legend{$40$,$45$, $50$}
	\end{axis}
	\end{tikzpicture}
	
	\begin{tikzpicture}
	\begin{axis}[
	width=4.667in,
	height=1.8in,
	xmin=0,xmax=385,ymin=0,ymax=110,
	xlabel={$k$},
	ylabel={$U$},
	legend pos=south east,
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[const plot,blue] file {wykresy/zadanie5/dmc_u1_40.txt};
	\addplot[const plot,green] file {wykresy/zadanie5/dmc_u1_45.txt};
	\addplot[const plot,red] file {wykresy/zadanie5/dmc_u1_50.txt};
	\end{axis}
	\end{tikzpicture}
	
	\caption{//TODO}
	\label{bezPomZak}
\end{figure}
\FloatBarrier

\begin{figure}
	Nastêpnie wyznaczone parametry u¿yliœmy podczas eksperymentów na rzeczywistym obiekcie, co da³o dobre rezultaty w jakoœci sterowania:
	
	
	Przyk³adowy przebieg sygna³u wyjœciowego przy regulacji PID z uwzglêdnieniem ograniczeñ sterowania, Yzad = 50;
\end{figure}


\begin{figure}[h!]
	\centering
	
	\begin{tikzpicture}
	\begin{axis}[
	width=4.667in,
	height=1.8in,
	xmin=0,xmax=500,ymin=30,ymax=55,
	xlabel={$k$},
	ylabel={$Y$},
	legend pos=north east,
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[const plot,blue] file {wykresy/zadanie5/pid_y1_50.txt};
	\addplot[const plot,green] file {wykresy/zadanie5/pid_y3_50.txt};
	\legend{y1, y3}
	\end{axis}
	\end{tikzpicture}
	
	
	\caption{//TODO}
	\label{bezPomZak}
\end{figure}

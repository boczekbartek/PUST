*****Zadanie 1*******
Komunikacja z obiektem grzej¹co-ch³odz¹cym przebiega poprzez port szeregowy. Uda³o nam siê skomunikowaæ ze œrodowiskiem z pomoc¹ funckji readMeasurements oraz
sendControls dostarczonymi w pakiecie labolatoryjnym, wysy³anie sygna³ów steruj¹cych do wiatraczka, grza³ki oraz odczyt pomiarów z czujników znajduj¹cych siê na obiekcie
przebiega³ pomyœlnie. Wartoœci, którymi bêdziemy sterowaæ w tym æwiczeniu to W1 - 1 paramert funkcji sendControls, oraz G1 - 5 parametr. Pomiarem nas interesuj¹cym bêdzie pierwsza wartoœæ
w wektorze zwracanym przez readMeasurements, czyli pomiar temperatury T1.

Wyznaczanie punktu pracy:
wys³aliœmy sta³¹ wartoœæ sterowania Upp = 35% oraz zmierzyliœmy wartoœæ wyjœcia. Wiatraczek W1 (cecha œrodowiska) zosta³ ustawiony na W1 = 50% obrotów maksymalnych.

Poni¿ej przedstawiony zosta³ przebieg eksperymentu:

(wykres zadanie1.txt oœ x->k, y->T1)


Na wykresie mo¿emy zaobserwowaæ, ¿e wartoœæ temperatury T1 (wyjœcia obiektu) stabilizuje sie na wartoœci 33.25*C.
Zatem mo¿emy stwierdziæ, ¿e punkt pracy obiektu to:
Ypp = 33.25
Upp = 35


*****Zadanie 2*******
W tym eksperymencie wyznaczaliœmy odpowiedzi skokowe dla piêciu ró¿nych zmian sygna³u struj¹cego G1 rozpoczyn¹j¹c z punktu pracy. Niestety, zanim zaczêliœmy pomiary, w labolatorium zaczê³o œwieciæ s³once
i punkt pracy naszego obiektu przesun¹³ siê do wartoœci Upp=35, Ypp=35 i aby ujednoliciæ wyniki to w³aœnie dla niego zebraliœmy odpowiedzi skokowe dla wszystkich skoków sygna³u steruj¹cego.
Wykonane przez nas skoki sygna³u to:
1) 35 -> 40
2) 35 -> 45
3) 35 -> 50
4) 35 -> 60 
5) 35 -> 70
6) 35 -> 80
7) 35 -> 90

Wykonaliœmy wiêcej pomiarów by lepiej móc zaobserwowaæ punkt przegiêcia charakterystyki statycznej obiektu.
Wynik pomiarów zosta³y przedstawione na poniŸszym wykresie zbiorczym:

(na jednym wykresie wszyskie zadanie2_skok*)

W³aœciwoœci statycznych tego obiektu nie mo¿emy okreœliæ jako w przybli¿eniu liniowe. Jako dowód mó¿na podaæ charakterystykê statyczn¹ obiektu,
na której doskonale widaæ, ¿e charakterystyka obiektu jest z³o¿ona z dwóch liniowcyh czêœci, których przegiêcie nastêpuje w okolicach punktu (Xprzegiecia,Yprzegiecia) = (50,42)

(wykres zadanie2_charakterystyka_statyczna, oœ x U, oœ y Y)


****Zadanie 3********
Obliczyliœmy dwie odpowiedzi skokowe, odpowiednio dla dwóch skoków odpowiadaj¹cym dwóm liniowym czêsciom charakterystyki statycznej. 
Pierwszy to skok sterowania U z 35%->50% (gdy¿ w³aœnie w punkcie 50 jest przegiêcie charakterystyki statycznej), drugi z 35%->90%.
Skoki zosta³y przeskalowane, tak aby mog³y byæ uznane za odpowiedŸ skokow¹, czyli odpowiedŸ obiektu na skok jednostkowy. 

Nastêpnym krokiem, by³a aproksymacja uzyskanych wczeœniej odpowiedzi skokowych cz³onem inercyjnym drugiego rzêdu z opóŸnieniem.
Parametry T1, T2 oraz K tego cz³ony wyznaczone zaosta³y za pomoc¹ optymalizatora ga. Jako, ¿e jest on optymalizatorem niedeterministycznym (nie daje przy ka¿dym uruchomieniu takich samych rezultatów),
kilka razy powtarzaliœmy nasze eksperymenty oraz ocenialiœmy wizualnie ( na wykresach) jakoœæ dopasowania funkcji aproksymuj¹cej do obliczonej odpowiedzi skokowej.
Okaza³o siê, ¿e bardzo dobre rezultaty udawa³o siê uzyskaæ nie podaj¹c optymalizatorowi ¿adnych ograniczeñ, dlatego te¿ nie zdecydowaliœmy siê na tego typu kroki.

Parametry cz³onu inercyjnego drugiego rzêdu z opóŸnieniem wyznaczone przy pomocy optymalizatora:
dla odpowiedzi skokowej obliczonej dla skoku sterowania do wartoœci 50%:
T1=14.875560; T2=77.388071; K=0.461244;

dla odpowiedzi skokowej obliczonej dla skoku sterowania do wartoœci 90%:
T1=13.342281; T2=76.979432; K=0.286991;
 
Rezultaty, które uda³o nam siê uzyskaæ zosta³y przedstawione na poni¿szych wykresach:

(odp_skokowa_skok_50 i funkcja_aproksymu¹ca_50 na jendym wykresie)

(odp_skokowa_skok_90 i funkcja_aproksymu¹ca_90 na jednym wykresie)


******Zadanie 4******
Zimplementowaliœmy algorytmy do regulacji PID i DMC.
W tym punkcie warto dodaæ, ¿e przed przyst¹pieniem do eksperymentów na rzeczywistym obiekcie stworzyliœmy jego model na podstawie jego odpowiedzi skokowych. 
Dziêki temu mogliœmy go symulowaæ w œrodowisku Matlab i tutaj te¿ ustaliæ optymalne parametry algorytmów regulacji.

Do celów symulacyjnych przygotowaliœmy dwa modele naszego obiektu:
Pierwszy wykorzystuj¹c otrzyman¹ w zadaniu 3 aproksymacjê odpowiedzi skokowej dla pierwszej z liniowych czêsci charakterystyki statycznej (czyli dla 0 < U < 50) oraz drugi na drugiej liniowej czeœci tej¿e charakterystyki (50 <= U < 100).

Nastêpnie wyznaczyliœmy korzystaj¹c z optymalizatora ga (ograniczenia lb = [0.01,1,0.01]; ub = [50,50,50]) a nastênie eksperymentalnie dostrajaj¹c parametry algorytmów PID i DMC ka¿dego z liniowych przedzia³ów charakterystyki statycznej.
Otrzymane rezultaty:
dla przedzia³u u nale¿y do (0:50)
PID:
	K=0.14661; Ti=1.63138; Td=0.010002;
DMC:
	
dla przedzia³u u nale¿y do (50:100) 
PID:
	K=0.194661; Ti=1.53138; Td=0.010002;
DMC:
	




 


Parametry te wyliczaliœmy przy pomoca optymalizatora ga. 




Parametry pida zosta³y dobrane z optymalizacji ga, socyluje bo jest to obikt nieliniowy jednak zbiega do wartoœci zadanej

nastawy dmc 1 N=5.000000; Nu=1.000000; lambda=0.159035;
nastawy dmc 2 N=71.000000; Nu=71.000000; lambda=31.528399;

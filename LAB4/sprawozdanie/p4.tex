%LAB4
\chapter{Punkt 4}



Zaimplementowaliœmy algorytmy do regulacji PID i DMC.
W tym punkcie warto dodaæ, ¿e przed przyst¹pieniem do eksperymentów na rzeczywistym obiekcie stworzyliœmy jego model na podstawie jego odpowiedzi skokowych. 
Dziêki temu mogliœmy go symulowaæ w œrodowisku Matlab i tutaj te¿ ustaliæ optymalne parametry algorytmów regulacji.\\

Do celów symulacyjnych przygotowaliœmy dwa modele naszego obiektu - pierwszy wykorzystuj¹c otrzyman¹ w zadaniu 3 aproksymacjê odpowiedzi skokowej dla pierwszej z liniowych czêsci charakterystyki statycznej (czyli dla  $\num{0} \leq U \leq \num{50}$) oraz drugi na drugiej liniowej czeœci tej¿e charakterystyki ( $\num{50} \leq U \leq \num{100}$).\\\\

Nastêpnie wyznaczyliœmy korzystaj¹c z optymalizatora
 \verb|ga|
(ograniczenia lb=[$\num{0,01}$;$\num{1}$;$\num{0,01}$]; 
ub = [$\num{50}$;$\num{50}$;$\num{50}$]) a nastênie eksperymentalnie dostrajaj¹c parametry algorytmów PID i DMC ka¿dego z liniowych przedzia³ów charakterystyki statycznej. Otrzymane rezultaty:\\\\

dla przedzia³u  $\num{0} \leq U \leq \num{50}$:\\
PID:\\
K=$\num{0,14661}$; $T_i$=$\num{1,63138}$; $T_d$=$\num{0,010002}$;\\
DMC:\\
N=$\num{0}$; $N_u$=$\num{0}$; $\lambda=\num{0}$\\\\


dla przedzia³u $\num{50} \leq U \leq \num{100}$:\\
PID:\\
K=$\num{0,194661}$; $T_i$=$\num{1,53138}$; $T_d$=$\num{0,010002}$;\\
DMC:\\
N=$\num{0}$; $N_u$=$\num{0}$; $\lambda$=$\num{0}$\\\\

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!TODO - podmien wartosci DMC


\begin{figure}[h!]
	\centering
	
	\begin{tikzpicture}
	\begin{axis}[
	width=4.667in,
	height=1.8in,
	enlargelimits=false,
	%xmin=0,xmax=1600,
	ymin=30,ymax=42,
	xlabel={$k$},
	ylabel={$Y=$},
	legend pos=north east,
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[const plot,blue] file {wykresy/zadanie4_PID_Y.txt};
	\addplot[red] file {wykresy/zadanie4_PID_Yzad.txt};
	\legend{$Y$, $Y_{zad}$}
	\end{axis}
	\end{tikzpicture}
	
	\begin{tikzpicture}
	\begin{axis}[
	width=4.667in,
	height=1.8in,
	enlargelimits=false,
	%xmin=0,xmax=1600,
	ymin=34,ymax=46,
	xlabel={$k$},
	ylabel={$U$},
	legend pos=north east,
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[const plot,blue] file {wykresy/zadanie4_PID_U.txt};
	\legend{$U$}
	\end{axis}
	\end{tikzpicture}
	
	\caption{Sygna³y}
\end{figure}


\begin{figure}[h!]
	\centering
	
	\begin{tikzpicture}
	\begin{axis}[
	width=4.667in,
	height=1.8in,
	enlargelimits=false,
	%xmin=0,xmax=1600,
	ymin=30,ymax=42,
	xlabel={$k$},
	ylabel={$Y$},
	legend pos=north east,
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[const plot,blue] file {wykresy/zadanie4_PID1_Y.txt};
	\addplot[red] file {wykresy/zadanie4_PID1_Yzad.txt};
	\legend{$Y$, $Y_{zad}$}
	\end{axis}
	\end{tikzpicture}
	
	\begin{tikzpicture}
	\begin{axis}[
	width=4.667in,
	height=1.8in,
	enlargelimits=false,
	%xmin=0,xmax=1600,
	ymin=34,ymax=46,
	xlabel={$k$},
	ylabel={$U$},
	legend pos=north east,
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[const plot,blue] file {wykresy/zadanie4_PID1_U.txt};
	\legend{$U$}
	\end{axis}
	\end{tikzpicture}
	
	\caption{Sygna³y1}
\end{figure}


\begin{figure}[h!]
	\centering
	
	\begin{tikzpicture}
	\begin{axis}[
	width=4.667in,
	height=1.8in,
	enlargelimits=false,
	%xmin=0,xmax=1600,
	ymin=30,ymax=42,
	xlabel={$k$},
	ylabel={$Y$},
	legend pos=north east,
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[const plot,blue] file {wykresy/zadanie4_PID2_Y.txt};
	\addplot[red] file {wykresy/zadanie4_PID2_Yzad.txt};
	\legend{$Y$, $Y_{zad}$}
	\end{axis}
	\end{tikzpicture}
	
	\begin{tikzpicture}
	\begin{axis}[
	width=4.667in,
	height=1.8in,
	enlargelimits=false,
	%xmin=0,xmax=1600,
	ymin=34,ymax=46,
	xlabel={$k$},
	ylabel={$U$},
	legend pos=north east,
	y tick label style={/pgf/number format/1000 sep=},
	]
	\addplot[const plot,blue] file {wykresy/zadanie4_PID2_U.txt};
	\legend{$U$}
	\end{axis}
	\end{tikzpicture}
	
	\caption{Sygna³y2}
\end{figure}
